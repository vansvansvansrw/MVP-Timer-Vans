<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ragnarok MVP Timer (Mobile)</title>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; 
            padding: 15px; 
            padding-top: 60px; 
            background: #212121; 
            color: #e0e0e0;
            margin: 0 auto;
        }
        h1 {
            color: #818cf8;
            text-align: center;
            font-size: 1.5em; 
            margin-bottom: 15px;
        }
        #sound-toggle {
            position: absolute;
            top: 15px;
            right: 15px; 
            font-size: 1.8em;
            cursor: pointer;
            user-select: none; 
        }

        .mvp-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr); 
            gap: 10px; 
        }
        
        @media (min-width: 600px) { 
             .mvp-container {
                grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
                gap: 15px; 
            }
             body { max-width: 1100px; }
        }

        .mvp { 
            background: #333333;
            border: 1px solid #555; 
            padding: 10px; 
            border-radius: 8px; 
            box-shadow: 0 1px 3px rgba(0,0,0,0.1); 
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .mvp-header {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 3px; 
        }
        .mvp-name { 
            display: block;
            font-weight: bold; 
            font-size: 0.85em; 
            color: #ffffff;
            width: 100%;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            text-align: center;
            min-width: 0;
        }
        .mvp-duration {
            font-size: 0.8em; 
            color: #b0b0b0;
            text-align: center;
        }

        .mvp-map {
            display: block; 
            font-size: 0.8em; 
            color: #aaa;
            font-style: italic;
            text-align: center;
            margin-bottom: 5px; 
            margin-top: -3px; 
        }

        .mvp-sprite {
            width: 60px; 
            height: 60px; 
            margin: 3px auto; 
            object-fit: contain; 
            border-radius: 4px;
            display: block;
        }
        
        /* --- CSS Timer --- */
        .timer { 
            font-size: 1.6em; 
            font-weight: 700; 
            text-align: center;
            margin: 8px 0; 
            font-family: "Courier New", Courier, monospace;
        }
        .timer.timer-normal { color: #f0f0f0; }
        .timer.timer-window { color: #4ade80; }
        .timer.timer-overdue { color: #f87171; }
        .timer.timer-na { color: #777; font-size: 1.2em; font-weight: normal; }
        /* --- ‡∏à‡∏ö CSS Timer --- */

        .mvp-death-time {
            display: block; 
            font-size: 0.8em; 
            color: #aaa;
            font-style: italic;
            text-align: center;
            margin-top: 3px; 
            height: 1.1em; 
        }

        .button-group {
            display: grid;
            grid-template-columns: 1fr;
            gap: 6px; 
            margin-top: 8px; 
        }

        button { 
            font-size: 0.9em; 
            padding: 8px 10px; 
            cursor: pointer; 
            color: white;
            border: none;
            border-radius: 5px;
            transition: background-color 0.2s;
        }
        
        .dead-btn { background-color: #ef4444; }
        .dead-btn:hover { background-color: #dc2626; }
        .edit-btn { background-color: #3b82f6; }
        .edit-btn:hover { background-color: #2563eb; }
        
        /* --- CSS Modal --- */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.7); }
        .modal-content { background-color: #333333; margin: 25% auto; padding: 20px; border: 1px solid #555; border-radius: 8px; width: 90%; max-width: 400px; position: relative; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #555; padding-bottom: 10px; margin-bottom: 15px; }
        .modal-header h2 { margin: 0; color: #c7d2fe; }
        .close-btn { color: #ccc; font-size: 28px; font-weight: bold; cursor: pointer; }
        .close-btn:hover, .close-btn:focus { color: #ffffff; }
        #edit-form label { display: block; margin-bottom: 5px; font-weight: bold; }
        #edit-datetime { width: 100%; padding: 8px; font-size: 1.1em; box-sizing: border-box; margin-bottom: 15px; background-color: #2c2c44; color: #e0e0e0; border: 1px solid #555; border-radius: 4px; color-scheme: dark; }
        #save-edit-btn { background-color: #5cb85c; width: 100%; }
        #save-edit-btn:hover { background-color: #4cae4c; }
        /* --- ‡∏à‡∏ö CSS Modal --- */

        
        /* --- CSS Filter --- */
        .filter-section { background-color: #333333; border: 1px solid #555; border-radius: 8px; padding: 15px; margin-top: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .filter-section h2 { margin-top: 0; color: #c7d2fe; border-bottom: 1px solid #555; padding-bottom: 10px; font-size: 1.2em; }
        .filter-controls { display: flex; gap: 10px; margin-bottom: 15px; }
        .filter-btn { padding: 5px 10px; font-size: 0.9em; background-color: #555; border: 1px solid #777; }
        .filter-btn:hover { background-color: #666; }
        #filter-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 8px; }
        .filter-item { display: flex; align-items: center; }
        .filter-item input { margin-right: 8px; accent-color: #3b82f6; }
        .filter-item label { font-size: 0.9em; cursor: pointer; } 
        /* --- ‡∏à‡∏ö CSS Filter --- */

    </style>
</head>
<body>
    <div id="sound-toggle">üì¢</div>
    <audio id="alert-sound" src="mvpalert2.mp3" preload="auto"></audio>

    <h1>MVP Timer (Mobile)</h1>

    <div class="mvp-container" id="mvp-list-container">

        <!-- Amon Ra -->
        <div class="mvp" id="card-amon_ra">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Amon Ra</span>
                    <span class="mvp-duration">(60 min. / ID: 1511)</span>
                </div>
                <small class="mvp-map">moc_pryd06</small>
                <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1511.gif" alt="Amon Ra Sprite">
                <div id="timer-amon_ra" class="timer timer-na">...</div>
                <small id="death-time-amon_ra" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('amon_ra', 3600)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (60m)</button>
                    <button class="edit-btn" onclick="openEditModal('amon_ra', 3600)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Assassin Cross Eremes -->
        <div class="mvp" id="card-eremes">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Assassin Cross Eremes</span>
                    <span class="mvp-duration">(100 min. / ID: 1647)</span>
                </div>
                <small class="mvp-map">lhz_dun03</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1647.gif" alt="Assassin Cross Eremes Sprite">
                <div id="timer-eremes" class="timer timer-na">...</div>
                <small id="death-time-eremes" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('eremes', 6000)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (100m)</button>
                    <button class="edit-btn" onclick="openEditModal('eremes', 6000)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Atroce (ra_fild02) -->
        <div class="mvp" id="card-atroce_ra_fild02">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Atroce (ra_fild02)</span>
                    <span class="mvp-duration">(240 min. / ID: 1785)</span>
                </div>
                <small class="mvp-map">Od Canyon</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1785.gif" alt="Atroce Sprite">
                <div id="timer-atroce_ra_fild02" class="timer timer-na">...</div>
                <small id="death-time-atroce_ra_fild02" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('atroce_ra_fild02', 14400)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (240m)</button>
                    <button class="edit-btn" onclick="openEditModal('atroce_ra_fild02', 14400)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Atroce (ra_fild03) -->
        <div class="mvp" id="card-atroce_ra_fild03">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Atroce (ra_fild03)</span>
                    <span class="mvp-duration">(180 min. / ID: 1785)</span>
                </div>
                <small class="mvp-map">The Plain of Ida</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1785.gif" alt="Atroce Sprite">
                <div id="timer-atroce_ra_fild03" class="timer timer-na">...</div>
                <small id="death-time-atroce_ra_fild03" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('atroce_ra_fild03', 10800)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (180m)</button>
                    <button class="edit-btn" onclick="openEditModal('atroce_ra_fild03', 10800)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Atroce (ra_fild04) -->
        <div class="mvp" id="card-atroce_ra_fild04">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Atroce (ra_fild04)</span>
                    <span class="mvp-duration">(300 min. / ID: 1785)</span>
                </div>
                <small class="mvp-map">Audhumbla Grassland</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1785.gif" alt="Atroce Sprite">
                <div id="timer-atroce_ra_fild04" class="timer timer-na">...</div>
                <small id="death-time-atroce_ra_fild04" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('atroce_ra_fild04', 18000)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (300m)</button>
                    <button class="edit-btn" onclick="openEditModal('atroce_ra_fild04', 18000)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Atroce (ve_fild01) -->
        <div class="mvp" id="card-atroce_ve_fild01">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Atroce (ve_fild01)</span>
                    <span class="mvp-duration">(180 min. / ID: 1785)</span>
                </div>
                <small class="mvp-map">Veins Field</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1785.gif" alt="Atroce Sprite">
                <div id="timer-atroce_ve_fild01" class="timer timer-na">...</div>
                <small id="death-time-atroce_ve_fild01" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('atroce_ve_fild01', 10800)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (180m)</button>
                    <button class="edit-btn" onclick="openEditModal('atroce_ve_fild01', 10800)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Atroce (ve_fild02) -->
        <div class="mvp" id="card-atroce_ve_fild02">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Atroce (ve_fild02)</span>
                    <span class="mvp-duration">(360 min. / ID: 1785)</span>
                </div>
                <small class="mvp-map">Veins Field</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1785.gif" alt="Atroce Sprite">
                <div id="timer-atroce_ve_fild02" class="timer timer-na">...</div>
                <small id="death-time-atroce_ve_fild02" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('atroce_ve_fild02', 21600)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (360m)</button>
                    <button class="edit-btn" onclick="openEditModal('atroce_ve_fild02', 21600)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Bacsojin -->
        <div class="mvp" id="card-bacsojin">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Bacsojin</span>
                    <span class="mvp-duration">(117 min. / ID: 1630)</span>
                </div>
                <small class="mvp-map">lou_dun03</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1630.gif" alt="Bacsojin Sprite">
                <div id="timer-bacsojin" class="timer timer-na">...</div>
                <small id="death-time-bacsojin" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('bacsojin', 7020)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (117m)</button>
                    <button class="edit-btn" onclick="openEditModal('bacsojin', 7020)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Baphomet -->
        <div class="mvp" id="card-baphomet">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Baphomet</span>
                    <span class="mvp-duration">(120 min. / ID: 1039)</span>
                </div>
                <small class="mvp-map">prt_maze03</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1039.gif" alt="Baphomet Sprite">
                <div id="timer-baphomet" class="timer timer-na">...</div>
                <small id="death-time-baphomet" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('baphomet', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('baphomet', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Boitata -->
        <div class="mvp" id="card-boitata">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Boitata</span>
                    <span class="mvp-duration">(120 min. / ID: 2068)</span>
                </div>
                <small class="mvp-map">bra_dun02</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/2068.gif" alt="Boitata Sprite">
                <div id="timer-boitata" class="timer timer-na">...</div>
                <small id="death-time-boitata" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('boitata', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('boitata', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Dark Lord -->
        <div class="mvp" id="card-dark_lord">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Dark Lord</span>
                    <span class="mvp-duration">(60 min. / ID: 1272)</span>
                </div>
                <small class="mvp-map">gl_chyard</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1272.gif" alt="Dark Lord Sprite">
                <div id="timer-dark_lord" class="timer timer-na">...</div>
                <small id="death-time-dark_lord" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('dark_lord', 3600)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (60m)</button>
                    <button class="edit-btn" onclick="openEditModal('dark_lord', 3600)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Detale -->
        <div class="mvp" id="card-detale">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Detale</span>
                    <span class="mvp-duration">(180 min. / ID: 1719)</span>
                </div>
                <small class="mvp-map">abyss_03</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1719.gif" alt="Detale Sprite">
                <div id="timer-detale" class="timer timer-na">...</div>
                <small id="death-time-detale" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('detale', 10800)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (180m)</button>
                    <button class="edit-btn" onclick="openEditModal('detale', 10800)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Doppelganger -->
        <div class="mvp" id="card-doppel">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Doppelganger</span>
                    <span class="mvp-duration">(120 min. / ID: 1046)</span>
                </div>
                <small class="mvp-map">gef_dun02</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1046.gif" alt="Doppelganger Sprite">
                <div id="timer-doppel" class="timer timer-na">...</div>
                <small id="death-time-doppel" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('doppel', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('doppel', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Dracula -->
        <div class="mvp" id="card-dracula">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Dracula</span>
                    <span class="mvp-duration">(60 min. / ID: 1389)</span>
                </div>
                <small class="mvp-map">gef_dun01</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1389.gif" alt="Dracula Sprite">
                <div id="timer-dracula" class="timer timer-na">...</div>
                <small id="death-time-dracula" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('dracula', 3600)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (60m)</button>
                    <button class="edit-btn" onclick="openEditModal('dracula', 3600)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Drake -->
        <div class="mvp" id="card-drake">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Drake</span>
                    <span class="mvp-duration">(120 min. / ID: 1112)</span>
                </div>
                <small class="mvp-map">treasure02</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1112.gif" alt="Drake Sprite">
                <div id="timer-drake" class="timer timer-na">...</div>
                <small id="death-time-drake" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('drake', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('drake', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Eddga -->
        <div class="mvp" id="card-eddga">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Eddga</span>
                    <span class="mvp-duration">(120 min. / ID: 1115)</span>
                </div>
                <small class="mvp-map">pay_fild11</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1115.gif" alt="Eddga Sprite">
                <div id="timer-eddga" class="timer timer-na">...</div>
                <small id="death-time-eddga" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('eddga', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('eddga', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Evil Snake Lord -->
        <div class="mvp" id="card-evil_snake_lord">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Evil Snake Lord</span>
                    <span class="mvp-duration">(94 min. / ID: 1418)</span>
                </div>
                <small class="mvp-map">gon_dun03</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1418.gif" alt="Evil Snake Lord Sprite">
                <div id="timer-evil_snake_lord" class="timer timer-na">...</div>
                <small id="death-time-evil_snake_lord" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('evil_snake_lord', 5640)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (94m)</button>
                    <button class="edit-btn" onclick="openEditModal('evil_snake_lord', 5640)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Fallen Bishop -->
        <div class="mvp" id="card-bishop">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Fallen Bishop</span>
                    <span class="mvp-duration">(120 min. / ID: 1871)</span>
                </div>
                <small class="mvp-map">abbey02</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1871.gif" alt="Fallen Bishop Sprite">
                <div id="timer-bishop" class="timer timer-na">...</div>
                <small id="death-time-bishop" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('bishop', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('bishop', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Garm / Hatii -->
        <div class="mvp" id="card-hatii">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Garm / Hatii</span>
                    <span class="mvp-duration">(120 min. / ID: 1252)</span>
                </div>
                <small class="mvp-map">xmas_fild01</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1252.gif" alt="Garm / Hatii Sprite">
                <div id="timer-hatii" class="timer timer-na">...</div>
                <small id="death-time-hatii" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('hatii', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('hatii', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Gloom Under Night -->
        <div class="mvp" id="card-gloom">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Gloom Under Night</span>
                    <span class="mvp-duration">(300 min. / ID: 1768)</span>
                </div>
                <small class="mvp-map">ra_san05</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1768.gif" alt="Gloom Under Night Sprite">
                <div id="timer-gloom" class="timer timer-na">...</div>
                <small id="death-time-gloom" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('gloom', 18000)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (300m)</button>
                    <button class="edit-btn" onclick="openEditModal('gloom', 18000)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Gold Queen Scaraba -->
        <div class="mvp" id="card-gold_queen">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Gold Queen Scaraba</span>
                    <span class="mvp-duration">(120 min. / ID: 2165)</span>
                </div>
                <small class="mvp-map">dic_dun03</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/2165.gif" alt="Gold Queen Scaraba Sprite">
                <div id="timer-gold_queen" class="timer timer-na">...</div>
                <small id="death-time-gold_queen" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('gold_queen', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('gold_queen', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Golden Thief Bug -->
        <div class="mvp" id="card-gtb">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Golden Thief Bug</span>
                    <span class="mvp-duration">(60 min. / ID: 1086)</span>
                </div>
                <small class="mvp-map">prt_sewb4</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1086.gif" alt="Golden Thief Bug Sprite">
                <div id="timer-gtb" class="timer timer-na">...</div>
                <small id="death-time-gtb" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('gtb', 3600)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (60m)</button>
                    <button class="edit-btn" onclick="openEditModal('gtb', 3600)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Gopinich -->
        <div class="mvp" id="card-gopinich">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Gopinich</span>
                    <span class="mvp-duration">(120 min. / ID: 1885)</span>
                </div>
                <small class="mvp-map">mosk_dun03</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1885.gif" alt="Gopinich Sprite">
                <div id="timer-gopinich" class="timer timer-na">...</div>
                <small id="death-time-gopinich" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('gopinich', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('gopinich', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- High Priest Magaleta -->
        <div class="mvp" id="card-magaleta">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">High Priest Magaleta</span>
                    <span class="mvp-duration">(100 min. / ID: 1649)</span>
                </div>
                <small class="mvp-map">lhz_dun03</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1649.gif" alt="High Priest Magaleta Sprite">
                <div id="timer-magaleta" class="timer timer-na">...</div>
                <small id="death-time-magaleta" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('magaleta', 6000)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (100m)</button>
                    <button class="edit-btn" onclick="openEditModal('magaleta', 6000)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- High Wizard Katrinn -->
        <div class="mvp" id="card-katrinn">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">High Wizard Katrinn</span>
                    <span class="mvp-duration">(100 min. / ID: 1651)</span>
                </div>
                <small class="mvp-map">lhz_dun03</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1651.gif" alt="High Wizard Katrinn Sprite">
                <div id="timer-katrinn" class="timer timer-na">...</div>
                <small id="death-time-katrinn" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('katrinn', 6000)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (100m)</button>
                    <button class="edit-btn" onclick="openEditModal('katrinn', 6000)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Ifrit -->
        <div class="mvp" id="card-ifrit">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Ifrit</span>
                    <span class="mvp-duration">(660 min. / ID: 1832)</span>
                </div>
                <small class="mvp-map">thor_v03</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1832.gif" alt="Ifrit Sprite">
                <div id="timer-ifrit" class="timer timer-na">...</div>
                <small id="death-time-ifrit" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('ifrit', 39600)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (660m)</button>
                    <button class="edit-btn" onclick="openEditModal('ifrit', 39600)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Incantation Samurai -->
        <div class="mvp" id="card-samurai">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Incantation Samurai</span>
                    <span class="mvp-duration">(91 min. / ID: 1492)</span>
                </div>
                <small class="mvp-map">ama_dun03</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1492.gif" alt="Incantation Samurai Sprite">
                <div id="timer-samurai" class="timer timer-na">...</div>
                <small id="death-time-samurai" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('samurai', 5460)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (91m)</button>
                    <button class="edit-btn" onclick="openEditModal('samurai', 5460)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Kiel D-01 -->
        <div class="mvp" id="card-kiel">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Kiel D-01</span>
                    <span class="mvp-duration">(120 min. / ID: 1734)</span>
                </div>
                <small class="mvp-map">kh_dun02</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1734.gif" alt="Kiel D-01 Sprite">
                <div id="timer-kiel" class="timer timer-na">...</div>
                <small id="death-time-kiel" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('kiel', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('kiel', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Stormy Knight -->
        <div class="mvp" id="card-stormy">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Stormy Knight</span>
                    <span class="mvp-duration">(60 min. / ID: 1251)</span>
                </div>
                <small class="mvp-map">xmas_dun02</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1251.gif" alt="Stormy Knight Sprite">
                <div id="timer-stormy" class="timer timer-na">...</div>
                <small id="death-time-stormy" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('stormy', 3600)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (60m)</button>
                    <button class="edit-btn" onclick="openEditModal('stormy', 3600)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Ktullanux -->
        <div class="mvp" id="card-ktullanux">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Ktullanux</span>
                    <span class="mvp-duration">(Quest / ID: 1779)</span>
                </div>
                <small class="mvp-map">ice_dun03</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1779.gif" alt="Ktullanux Sprite">
                <div id="timer-ktullanux" class="timer timer-na">Quest / Summon</div>
                <small id="death-time-ktullanux" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <!-- No buttons for quest boss -->
            </div>
        </div>

        <!-- Lady Tanee -->
        <div class="mvp" id="card-lady_tanee">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Lady Tanee</span>
                    <span class="mvp-duration">(420 min. / ID: 1688)</span>
                </div>
                <small class="mvp-map">ayo_dun02</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1688.gif" alt="Lady Tanee Sprite">
                <div id="timer-lady_tanee" class="timer timer-na">...</div>
                <small id="death-time-lady_tanee" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('lady_tanee', 25200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (420m)</button>
                    <button class="edit-btn" onclick="openEditModal('lady_tanee', 25200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Leak -->
        <div class="mvp" id="card-leak">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Leak</span>
                    <span class="mvp-duration">(120 min. / ID: 2156)</span>
                </div>
                <small class="mvp-map">dew_dun01</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/2156.gif" alt="Leak Sprite">
                <div id="timer-leak" class="timer timer-na">...</div>
                <small id="death-time-leak" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('leak', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('leak', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Lord Knight Seyren -->
        <div class="mvp" id="card-seyren">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Lord Knight Seyren</span>
                    <span class="mvp-duration">(100 min. / ID: 1646)</span>
                </div>
                <small class="mvp-map">lhz_dun03</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1646.gif" alt="Lord Knight Seyren Sprite">
                <div id="timer-seyren" class="timer timer-na">...</div>
                <small id="death-time-seyren" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('seyren', 6000)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (100m)</button>
                    <button class="edit-btn" onclick="openEditModal('seyren', 6000)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Lord of Death -->
        <div class="mvp" id="card-lord_of_death">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Lord of Death</span>
                    <span class="mvp-duration">(133 min. / ID: 1373)</span>
                </div>
                <small class="mvp-map">niflheim</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1373.gif" alt="Lord of Death Sprite">
                <div id="timer-lord_of_death" class="timer timer-na">...</div>
                <small id="death-time-lord_of_death" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('lord_of_death', 7980)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (133m)</button>
                    <button class="edit-btn" onclick="openEditModal('lord_of_death', 7980)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Maya -->
        <div class="mvp" id="card-maya">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Maya</span>
                    <span class="mvp-duration">(120 min. / ID: 1147)</span>
                </div>
                <small class="mvp-map">anthell02</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1147.gif" alt="Maya Sprite">
                <div id="timer-maya" class="timer timer-na">...</div>
                <small id="death-time-maya" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('maya', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('maya', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Mistress -->
        <div class="mvp" id="card-mistress">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Mistress</span>
                    <span class="mvp-duration">(120 min. / ID: 1059)</span>
                </div>
                <small class="mvp-map">mjolnir_04</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1059.gif" alt="Mistress Sprite">
                <div id="timer-mistress" class="timer timer-na">...</div>
                <small id="death-time-mistress" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('mistress', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('mistress', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Moonlight Flower -->
        <div class="mvp" id="card-moonlight">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Moonlight Flower</span>
                    <span class="mvp-duration">(60 min. / ID: 1150)</span>
                </div>
                <small class="mvp-map">pay_dun04</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1150.gif" alt="Moonlight Flower Sprite">
                <div id="timer-moonlight" class="timer timer-na">...</div>
                <small id="death-time-moonlight" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('moonlight', 3600)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (60m)</button>
                    <button class="edit-btn" onclick="openEditModal('moonlight', 3600)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Nidhoggr's Shadow -->
        <div class="mvp" id="card-nidhoggr">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Nidhoggr's Shadow</span>
                    <span class="mvp-duration">(Instance / ID: 2022)</span>
                </div>
                <small class="mvp-map">2@nyd</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/2022.gif" alt="Nidhoggr's Shadow Sprite">
                <div id="timer-nidhoggr" class="timer timer-na">Instance</div>
                <small id="death-time-nidhoggr" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <!-- No buttons for instance boss -->
            </div>
        </div>

        <!-- Orc Hero (gef_fild02) -->
        <div class="mvp" id="card-orc_hero_gef_fild02">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Orc Hero (gef_fild02)</span>
                    <span class="mvp-duration">(1440 min. / ID: 1087)</span>
                </div>
                <small class="mvp-map">Geffen Field</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1087.gif" alt="Orc Hero Sprite">
                <div id="timer-orc_hero_gef_fild02" class="timer timer-na">...</div>
                <small id="death-time-orc_hero_gef_fild02" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('orc_hero_gef_fild02', 86400)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (1440m)</button>
                    <button class="edit-btn" onclick="openEditModal('orc_hero_gef_fild02', 86400)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Orc Hero (gef_fild14) -->
        <div class="mvp" id="card-orc_hero_gef_fild14">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Orc Hero (gef_fild14)</span>
                    <span class="mvp-duration">(60 min. / ID: 1087)</span>
                </div>
                <small class="mvp-map">West Orc Village</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1087.gif" alt="Orc Hero Sprite">
                <div id="timer-orc_hero_gef_fild14" class="timer timer-na">...</div>
                <small id="death-time-orc_hero_gef_fild14" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('orc_hero_gef_fild14', 3600)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (60m)</button>
                    <button class="edit-btn" onclick="openEditModal('orc_hero_gef_fild14', 3600)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Orc Lord -->
        <div class="mvp" id="card-orc_lord">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Orc Lord</span>
                    <span class="mvp-duration">(120 min. / ID: 1190)</span>
                </div>
                <small class="mvp-map">gef_fild10</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1190.gif" alt="Orc Lord Sprite">
                <div id="timer-orc_lord" class="timer timer-na">...</div>
                <small id="death-time-orc_lord" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('orc_lord', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('orc_lord', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Osiris -->
        <div class="mvp" id="card-osiris">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Osiris</span>
                    <span class="mvp-duration">(60 min. / ID: 1038)</span>
                </div>
                <small class="mvp-map">moc_pryd04</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1038.gif" alt="Osiris Sprite">
                <div id="timer-osiris" class="timer timer-na">...</div>
                <small id="death-time-osiris" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('osiris', 3600)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (60m)</button>
                    <button class="edit-btn" onclick="openEditModal('osiris', 3600)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Pharaoh -->
        <div class="mvp" id="card-pharaoh">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Pharaoh</span>
                    <span class="mvp-duration">(60 min. / ID: 1157)</span>
                </div>
                <small class="mvp-map">in_sphinx5</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1157.gif" alt="Pharaoh Sprite">
                <div id="timer-pharaoh" class="timer timer-na">...</div>
                <small id="death-time-pharaoh" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('pharaoh', 3600)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (60m)</button>
                    <button class="edit-btn" onclick="openEditModal('pharaoh', 3600)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Phreeoni -->
        <div class="mvp" id="card-phreeoni">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Phreeoni</span>
                    <span class="mvp-duration">(120 min. / ID: 1159)</span>
                </div>
                <small class="mvp-map">moc_fild17</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1159.gif" alt="Phreeoni Sprite">
                <div id="timer-phreeoni" class="timer timer-na">...</div>
                <small id="death-time-phreeoni" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('phreeoni', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('phreeoni', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Queen Scaraba -->
        <div class="mvp" id="card-queen_scaraba">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Queen Scaraba</span>
                    <span class="mvp-duration">(120 min. / ID: 2087)</span>
                </div>
                <small class="mvp-map">dic_dun02</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/2087.gif" alt="Queen Scaraba Sprite">
                <div id="timer-queen_scaraba" class="timer timer-na">...</div>
                <small id="death-time-queen_scaraba" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('queen_scaraba', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('queen_scaraba', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- RSX 0806 -->
        <div class="mvp" id="card-rsx">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">RSX 0806</span>
                    <span class="mvp-duration">(125 min. / ID: 1623)</span>
                </div>
                <small class="mvp-map">ein_dun02</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1623.gif" alt="RSX 0806 Sprite">
                <div id="timer-rsx" class="timer timer-na">...</div>
                <small id="death-time-rsx" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('rsx', 7500)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (125m)</button>
                    <button class="edit-btn" onclick="openEditModal('rsx', 7500)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Sniper Shecil -->
        <div class="mvp" id="card-shecil">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Sniper Shecil</span>
                    <span class="mvp-duration">(100 min. / ID: 1650)</span>
                </div>
                <small class="mvp-map">lhz_dun03</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1650.gif" alt="Sniper Shecil Sprite">
                <div id="timer-shecil" class="timer timer-na">...</div>
                <small id="death-time-shecil" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('shecil', 6000)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (100m)</button>
                    <button class="edit-btn" onclick="openEditModal('shecil', 6000)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Tao Gunka -->
        <div class="mvp" id="card-tao_gunka">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Tao Gunka</span>
                    <span class="mvp-duration">(300 min. / ID: 1583)</span>
                </div>
                <small class="mvp-map">beach_dun</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1583.gif" alt="Tao Gunka Sprite">
                <div id="timer-tao_gunka" class="timer timer-na">...</div>
                <small id="death-time-tao_gunka" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('tao_gunka', 18000)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (300m)</button>
                    <button class="edit-btn" onclick="openEditModal('tao_gunka', 18000)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Thanatos -->
        <div class="mvp" id="card-thanatos">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Memory of Thanatos</span>
                    <span class="mvp-duration">(Quest / ID: 1708)</span>
                </div>
                <small class="mvp-map">thana_boss</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1708.gif" alt="Thanatos Sprite">
                <div id="timer-thanatos" class="timer timer-na">Quest / Summon</div>
                <small id="death-time-thanatos" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <!-- No buttons for quest boss -->
            </div>
        </div>

        <!-- Turtle General -->
        <div class="mvp" id="card-turtle_general">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Turtle General</span>
                    <span class="mvp-duration">(60 min. / ID: 1312)</span>
                </div>
                <small class="mvp-map">tur_dun04</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1312.gif" alt="Turtle General Sprite">
                <div id="timer-turtle_general" class="timer timer-na">...</div>
                <small id="death-time-turtle_general" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('turtle_general', 3600)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (60m)</button>
                    <button class="edit-btn" onclick="openEditModal('turtle_general', 3600)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Valkyrie Randgris -->
        <div class="mvp" id="card-valkyrie">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Valkyrie Randgris</span>
                    <span class="mvp-duration">(480 min. / ID: 1751)</span>
                </div>
                <small class="mvp-map">odin_tem03</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1751.gif" alt="Valkyrie Randgris Sprite">
                <div id="timer-valkyrie" class="timer timer-na">...</div>
                <small id="death-time-valkyrie" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('valkyrie', 28800)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (480m)</button>
                    <button class="edit-btn" onclick="openEditModal('valkyrie', 28800)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Vesper -->
        <div class="mvp" id="card-vesper">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Vesper</span>
                    <span class="mvp-duration">(120 min. / ID: 1685)</span>
                </div>
                <small class="mvp-map">jupe_core</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1685.gif" alt="Vesper Sprite">
                <div id="timer-vesper" class="timer timer-na">...</div>
                <small id="death-time-vesper" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('vesper', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('vesper', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Whitesmith Harword -->
        <div class="mvp" id="card-harword">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Whitesmith Harword</span>
                    <span class="mvp-duration">(100 min. / ID: 1648)</span>
                </div>
                <small class="mvp-map">lhz_dun03</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1648.gif" alt="Whitesmith Harword Sprite">
                <div id="timer-harword" class="timer timer-na">...</div>
                <small id="death-time-harword" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('harword', 6000)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (100m)</button>
                    <button class="edit-btn" onclick="openEditModal('harword', 6000)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Wounded Morocc -->
        <div class="mvp" id="card-morocc">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Wounded Morocc</span>
                    <span class="mvp-duration">(720 min. / ID: 1917)</span>
                </div>
                <small class="mvp-map">moc_fild22</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1917.gif" alt="Wounded Morocc Sprite">
                <div id="timer-morocc" class="timer timer-na">...</div>
                <small id="death-time-morocc" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('morocc', 43200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (720m)</button>
                    <button class="edit-btn" onclick="openEditModal('morocc', 43200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

        <!-- Ygnizem -->
        <div class="mvp" id="card-ygnizem">
            <div>
                <div class="mvp-header">
                    <span class="mvp-name">Ygnizem</span>
                    <span class="mvp-duration">(120 min. / ID: 1658)</span>
                </div>
                <small class="mvp-map">lhz_dun02</small>
                 <!-- --- üé® Updated image path --- -->
                <img class="mvp-sprite" src="images/1658.gif" alt="Ygnizem Sprite">
                <div id="timer-ygnizem" class="timer timer-na">...</div>
                <small id="death-time-ygnizem" class="mvp-death-time">&nbsp;</small>
            </div>
            <div>
                <div class="button-group">
                    <button class="dead-btn" onclick="setTimer('ygnizem', 7200)">‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (120m)</button>
                    <button class="edit-btn" onclick="openEditModal('ygnizem', 7200)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </div>
            </div>
        </div>

    </div> <!-- ‡∏à‡∏ö .mvp-container -->


    <!-- üñåÔ∏è 3. HTML ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Filter (‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà) -->
    <div class="filter-section">
        <h2>‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡∏ö‡∏≠‡∏™ (Boss Filters)</h2>
        <!-- --- üé® 2. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏° Select/Deselect All --- -->
        <div class="filter-controls">
            <button id="select-all-btn" class="filter-btn">Select All</button>
            <button id="deselect-all-btn" class="filter-btn">Deselect All</button>
        </div>
        <div id="filter-container">
            <!-- Checkboxes ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢ JavaScript -->
        </div>
    </div>


    <!-- üñåÔ∏è MODAL ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏ß‡∏•‡∏≤ -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏ß‡∏•‡∏≤‡∏ï‡∏≤‡∏¢</h2>
                <span class="close-btn" id="edit-close-btn">&times;</span>
            </div>
            <div id="edit-form">
                <label for="edit-datetime">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ö‡∏≠‡∏™‡∏ï‡∏≤‡∏¢:</label>
                <input type="datetime-local" id="edit-datetime">
                <button id="save-edit-btn">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ß‡∏•‡∏≤</button>
            </div>
        </div>
    </div>


    <!-- 1. ‡πÇ‡∏´‡∏•‡∏î Firebase SDK (v8) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <script>
        // ... (Firebase Config and Functions remain the same) ...
        const firebaseConfig = {
          apiKey: "AIzaSyANfAjWOYNWX8NKlPU2aTT28nVQ_lXF2Ns",
          authDomain: "mvp-timer-56d9d.firebaseapp.com",
          databaseURL: "https://mvp-timer-56d9d-default-rtdb.asia-southeast1.firebasedatabase.app",
          projectId: "mvp-timer-56d9d",
          storageBucket: "mvp-timer-56d9d.firebasestorage.app",
          messagingSenderId: "733739832280",
          appId: "1:733739832280:web:ca4b5b9f5c5d8b611d18ad",
          measurementId: "G-MEQVDLFYHT"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        const mvpRef = db.ref('mvp');
        
        function setTimer(mvpName, respawnSeconds) {
            const nowInMs = new Date().getTime();
            const respawnTimeInMs = nowInMs + (respawnSeconds * 1000);
            mvpRef.child(mvpName).set({ respawnAt: respawnTimeInMs });
        }
        
        const mvpList = [
             { id: 'amon_ra', name: 'Amon Ra', seconds: 3600, id_num: 1511 }, 
             { id: 'eremes', name: 'Assassin Cross Eremes', seconds: 6000, id_num: 1647 }, 
             { id: 'atroce_ra_fild02', name: 'Atroce (ra_fild02)', seconds: 14400, id_num: 1785 }, 
             { id: 'atroce_ra_fild03', name: 'Atroce (ra_fild03)', seconds: 10800, id_num: 1785 }, 
             { id: 'atroce_ra_fild04', name: 'Atroce (ra_fild04)', seconds: 18000, id_num: 1785 }, 
             { id: 'atroce_ve_fild01', name: 'Atroce (ve_fild01)', seconds: 10800, id_num: 1785 }, 
             { id: 'atroce_ve_fild02', name: 'Atroce (ve_fild02)', seconds: 21600, id_num: 1785 }, 
             { id: 'bacsojin', name: 'Bacsojin', seconds: 7020, id_num: 1630 }, 
             { id: 'baphomet', name: 'Baphomet', seconds: 7200, id_num: 1039 }, 
             { id: 'boitata', name: 'Boitata', seconds: 7200, id_num: 2068 }, 
             { id: 'dark_lord', name: 'Dark Lord', seconds: 3600, id_num: 1272 }, 
             { id: 'detale', name: 'Detale', seconds: 10800, id_num: 1719 }, 
             { id: 'doppel', name: 'Doppelganger', seconds: 7200, id_num: 1046 }, 
             { id: 'dracula', name: 'Dracula', seconds: 3600, id_num: 1389 }, 
             { id: 'drake', name: 'Drake', seconds: 7200, id_num: 1112 }, 
             { id: 'eddga', name: 'Eddga', seconds: 7200, id_num: 1115 }, 
             { id: 'evil_snake_lord', name: 'Evil Snake Lord', seconds: 5640, id_num: 1418 }, 
             { id: 'bishop', name: 'Fallen Bishop', seconds: 7200, id_num: 1871 }, 
             { id: 'hatii', name: 'Garm / Hatii', seconds: 7200, id_num: 1252 }, 
             { id: 'gloom', name: 'Gloom Under Night', seconds: 18000, id_num: 1768 }, 
             { id: 'gold_queen', name: 'Gold Queen Scaraba', seconds: 7200, id_num: 2165 }, 
             { id: 'gtb', name: 'Golden Thief Bug', seconds: 3600, id_num: 1086 }, 
             { id: 'gopinich', name: 'Gopinich', seconds: 7200, id_num: 1885 }, 
             { id: 'magaleta', name: 'High Priest Magaleta', seconds: 6000, id_num: 1649 }, 
             { id: 'katrinn', name: 'High Wizard Katrinn', seconds: 6000, id_num: 1651 }, 
             { id: 'ifrit', name: 'Ifrit', seconds: 39600, id_num: 1832 }, 
             { id: 'samurai', name: 'Incantation Samurai', seconds: 5460, id_num: 1492 }, 
             { id: 'kiel', name: 'Kiel D-01', seconds: 7200, id_num: 1734 }, 
             { id: 'stormy', name: 'Stormy Knight', seconds: 3600, id_num: 1251 }, 
             { id: 'ktullanux', name: 'Ktullanux', seconds: 0, id_num: 1779 }, 
             { id: 'lady_tanee', name: 'Lady Tanee', seconds: 25200, id_num: 1688 }, 
             { id: 'leak', name: 'Leak', seconds: 7200, id_num: 2156 }, 
             { id: 'seyren', name: 'Lord Knight Seyren', seconds: 6000, id_num: 1646 }, 
             { id: 'lord_of_death', name: 'Lord of Death', seconds: 7980, id_num: 1373 }, 
             { id: 'maya', name: 'Maya', seconds: 7200, id_num: 1147 }, 
             { id: 'mistress', name: 'Mistress', seconds: 7200, id_num: 1059 }, 
             { id: 'moonlight', name: 'Moonlight Flower', seconds: 3600, id_num: 1150 }, 
             { id: 'nidhoggr', name: 'Nidhoggr\'s Shadow', seconds: 0, id_num: 2022 }, 
             { id: 'orc_hero_gef_fild02', name: 'Orc Hero (gef_fild02)', seconds: 86400, id_num: 1087 }, 
             { id: 'orc_hero_gef_fild14', name: 'Orc Hero (gef_fild14)', seconds: 3600, id_num: 1087 }, 
             { id: 'orc_lord', name: 'Orc Lord', seconds: 7200, id_num: 1190 }, 
             { id: 'osiris', name: 'Osiris', seconds: 3600, id_num: 1038 }, 
             { id: 'pharaoh', name: 'Pharaoh', seconds: 3600, id_num: 1157 }, 
             { id: 'phreeoni', name: 'Phreeoni', seconds: 7200, id_num: 1159 }, 
             { id: 'queen_scaraba', name: 'Queen Scaraba', seconds: 7200, id_num: 2087 }, 
             { id: 'rsx', name: 'RSX 0806', seconds: 7500, id_num: 1623 }, 
             { id: 'shecil', name: 'Sniper Shecil', seconds: 6000, id_num: 1650 }, 
             { id: 'tao_gunka', name: 'Tao Gunka', seconds: 18000, id_num: 1583 }, 
             { id: 'thanatos', name: 'Memory of Thanatos', seconds: 0, id_num: 1708 }, 
             { id: 'turtle_general', name: 'Turtle General', seconds: 3600, id_num: 1312 }, 
             { id: 'valkyrie', name: 'Valkyrie Randgris', seconds: 28800, id_num: 1751 }, 
             { id: 'vesper', name: 'Vesper', seconds: 7200, id_num: 1685 }, 
             { id: 'harword', name: 'Whitesmith Harword', seconds: 6000, id_num: 1648 }, 
             { id: 'morocc', name: 'Wounded Morocc', seconds: 43200, id_num: 1917 }, 
             { id: 'ygnizem', name: 'Ygnizem', seconds: 7200, id_num: 1658 } 
         ];
        
        let currentMvpData = null;
        let isSoundEnabled = localStorage.getItem('mvpTimerSoundEnabled') === 'true'; 
        let mvpStates = {}; 
        const alertSound = document.getElementById('alert-sound');
        const soundToggleButton = document.getElementById('sound-toggle');
        
        function updateSoundToggleIcon() { /* ... */ }
        updateSoundToggleIcon(); 
        if (soundToggleButton) { /* ... */ }
        
        mvpRef.on('value', (snapshot) => { currentMvpData = snapshot.val(); }, (error) => { /* ... */ });
        setInterval(() => { if (currentMvpData !== null) { try { updateAllTimers(currentMvpData); } catch (e) { /* ... */ } } }, 1000);

        const LATE_WINDOW_MS = 600000; 
        const mvpContainer = document.getElementById("mvp-list-container");

        function updateAllTimers(data) {
            const now = new Date().getTime();
            let newStates = {}; 
            let mvpsToSort = mvpList.map(mvpData => { /* ... */ });
            mvpsToSort.sort((a, b) => a.sortValue - b.sortValue);
            mvpsToSort.forEach(mvp => { /* ... (Logic remains the same, including sound) ... */ });
            mvpStates = newStates;
        }

        function formatTime(ms) { /* ... */ }
        function formatDeathTime(ms) { /* ... */ }

        /* --- Modal JavaScript --- */
        const editModal = document.getElementById("editModal");
        // ... (Modal logic remains the same) ...
        function openEditModal(mvpName, respawnSeconds) { /* ... */ }
        function handleSaveEdit() { /* ... */ }
        function formatDateForInput(date) { /* ... */ }

        /* --- Filter JavaScript --- */
        const filterContainer = document.getElementById("filter-container");
        if (filterContainer) {
            const sortedMvpListForFilter = [...mvpList].sort((a, b) => a.name.localeCompare(b.name));
            sortedMvpListForFilter.forEach(mvpData => { /* ... (Build checkboxes) ... */ });
            filterContainer.addEventListener('change', (event) => { /* ... (Handle checkbox change) ... */ });
            const selectAllBtn = document.getElementById('select-all-btn');
            const deselectAllBtn = document.getElementById('deselect-all-btn');
            function setAllCheckboxes(checkedState) { /* ... */ }
            if (selectAllBtn) { selectAllBtn.onclick = function() { setAllCheckboxes(true); } }
            if (deselectAllBtn) { deselectAllBtn.onclick = function() { setAllCheckboxes(false); } }
        }
    </script>
</body>
</html>

